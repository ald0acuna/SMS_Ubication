<!DOCTYPE html>
<html lang="en">
<head>

    <script src='/socket.io/socket.io.js'></script> 
  
     <script>var socket = io.connect('http://186.102.168.100:10000/');</script>

     
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <link rel="stylesheet" href="../css/style.css">
    
    <!-- <link rel="stylesheet" href="../js/jquery.datetimepicker.min.css"> -->
    <title>Coordenadas geograficas</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>
   <link rel="stylesheet" type="text/css" href="../archivos/jquery.datetimepicker.css">
   <script src="../archivos/jquery.js"></script>
   <script src="../archivos/build/jquery.datetimepicker.full.min.js"></script>
   
    <!-- <script src="../js/jquery.js"></script>
    <script src="../js/jquery.datetimepicker.full.js"></script> -->
</head>
<body onload="readFile();">
    <div class="container-css">
        <section class="header">
            <h1>Coordenadas geograficas</h1>
        </section>
        <section class="content">
            <div class="user-container">
                <form class="calendar" method="POST" action="/">
                    
                    
                    <!-- <input id="date_timepicker_start" name="start" autocomplete="off"> -->
                    <input type="text" id="date_timepicker_start"  name="start" placeholder="Fecha de inicio" autocomplete="off">
                    <h6>Hora inicial:</h6>
                    <select name="hora" id="campoHora">
                        <option value="0">00</option>
                        <option value="1">01</option>
                        <option value="2">02</option>
                        <option value="3">03</option>
                        <option value="4">04</option>
                        <option value="5">05</option>
                        <option value="6">06</option>
                        <option value="7">07</option>
                        <option value="8">08</option>
                        <option value="9">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                    </select>
                
                
                
                    <select name="minuto" id="campoMinuto" >
                        <option value="0">00</option>
                        <option value="1">01</option>
                        <option value="2">02</option>
                        <option value="3">03</option>
                        <option value="4">04</option>
                        <option value="5">05</option>
                        <option value="6">06</option>
                        <option value="7">07</option>
                        <option value="8">08</option>
                        <option value="9">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                        <option value="32">32</option>
                        <option value="33">33</option>
                        <option value="34">34</option>
                        <option value="35">35</option>
                        <option value="36">36</option>
                        <option value="37">37</option>
                        <option value="38">38</option>
                        <option value="39">39</option>
                        <option value="40">40</option>
                        <option value="41">41</option>
                        <option value="42">42</option>
                        <option value="43">43</option>
                        <option value="44">44</option>
                        <option value="45">45</option>
                        <option value="46">46</option>
                        <option value="47">47</option>
                        <option value="48">48</option>
                        <option value="49">49</option>
                        <option value="50">50</option>
                        <option value="51">51</option>
                        <option value="52">52</option>
                        <option value="53">53</option>
                        <option value="54">54</option>
                        <option value="55">55</option>
                        <option value="56">56</option>
                        <option value="57">57</option>
                        <option value="58">58</option>
                        <option value="59">59</option>
                
                        
                    </select>
                    
                    <input type="text" id="date_timepicker_end" name= "end" placeholder="Fecha final" autocomplete="off">
                    <h6>Hora final:</h6>
                    <select name="horaTF" id="campoHoraTF">
                        <option value="0">00</option>
                        <option value="1">01</option>
                        <option value="2">02</option>
                        <option value="3">03</option>
                        <option value="4">04</option>
                        <option value="5">05</option>
                        <option value="6">06</option>
                        <option value="7">07</option>
                        <option value="8">08</option>
                        <option value="9">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                    </select>
                
                    
                    <select name="minutoTF" id="campoMinutoTF" >
                        <option value="0">00</option>
                        <option value="1">01</option>
                        <option value="2">02</option>
                        <option value="3">03</option>
                        <option value="4">04</option>
                        <option value="5">05</option>
                        <option value="6">06</option>
                        <option value="7">07</option>
                        <option value="8">08</option>
                        <option value="9">09</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                        <option value="26">26</option>
                        <option value="27">27</option>
                        <option value="28">28</option>
                        <option value="29">29</option>
                        <option value="30">30</option>
                        <option value="31">31</option>
                        <option value="32">32</option>
                        <option value="33">33</option>
                        <option value="34">34</option>
                        <option value="35">35</option>
                        <option value="36">36</option>
                        <option value="37">37</option>
                        <option value="38">38</option>
                        <option value="39">39</option>
                        <option value="40">40</option>
                        <option value="41">41</option>
                        <option value="42">42</option>
                        <option value="43">43</option>
                        <option value="44">44</option>
                        <option value="45">45</option>
                        <option value="46">46</option>
                        <option value="47">47</option>
                        <option value="48">48</option>
                        <option value="49">49</option>
                        <option value="50">50</option>
                        <option value="51">51</option>
                        <option value="52">52</option>
                        <option value="53">53</option>
                        <option value="54">54</option>
                        <option value="55">55</option>
                        <option value="56">56</option>
                        <option value="57">57</option>
                        <option value="58">58</option>
                        <option value="59">59</option>
                
                        
                    </select>

                    <span id="span" value="1"></span>
        
        <script>
            
            //Para las horas
             $("#campoHora").change(function() {

                var j=0;
                    while(j<59){
                        $("#campoHoraTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
                
                if($("#date_timepicker_start").val()==$("#date_timepicker_end").val()){
                    var i = 0;
                    while(i<$("#campoHora").val()){
                        $("#campoHoraTF").find("option[value='"+i+"']").prop("disabled",true);
                        i=i+1;
                    }
                    /* document.getElementById("campoHoraTF").value = $('#campoHora').val(); */
                    document.getElementById("campoHoraTF").value = Number($('#campoHora').val()) + 1;
                    
                    
                }

            });

            $("#date_timepicker_start").change(function() {
                    var j=0;
                    while(j<59){
                        $("#campoHoraTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
                    /* document.getElementById("campoHora").value = '0'; */
                    /* document.getElementById("campoHoraTF").value = '0'; */
                    /* document.getElementById("campoMinuto").value = '0'; */
                   /*  document.getElementById("campoMinutoTF").value = '0'; */

                    var j=0;
                    while(j<59){
                        $("#campoHoraTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
                
                    if($("#date_timepicker_start").val()==$("#date_timepicker_end").val()){
                        var i = 0;
                        while(i<$("#campoHora").val()){
                            $("#campoHoraTF").find("option[value='"+i+"']").prop("disabled",true);
                            i=i+1;
                        }
                        document.getElementById("campoHoraTF").value = $("#campoHora").val();

                        if($("#campoHora").val()==$("#campoHoraTF").val()){

                            var k = 0;
                            while(k<=$("#campoMinuto").val()){
                                $("#campoMinutoTF").find("option[value='"+k+"']").prop("disabled",true);
                                k=k+1;
                            }
                            document.getElementById("campoMinutoTF").value = Number($('#campoMinuto').val()) + 1; 
                        }
                         

                    } else {
                        var j=0;
                        while(j<59){
                            $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                            j=j+1
                        }
                    }

                    
            });  

            $("#date_timepicker_end").change(function() {
                    var j=0;
                    while(j<59){
                        $("#campoHoraTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
                    /* document.getElementById("campoHora").value = '0'; */
                    /* document.getElementById("campoHoraTF").value = '0'; */
                    /* document.getElementById("campoHoraTF").value = $("#campoHora").val(); */
                    /* document.getElementById("campoMinuto").value = '0'; */
                    /* document.getElementById("campoMinutoTF").value = '0'; */

                    var j=0;
                    while(j<59){
                        $("#campoHoraTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
                
                    if($("#date_timepicker_start").val()==$("#date_timepicker_end").val()){
                        var i = 0;
                        while(i<$("#campoHora").val()){
                            $("#campoHoraTF").find("option[value='"+i+"']").prop("disabled",true);
                            i=i+1;
                        }
                        document.getElementById("campoHoraTF").value = $("#campoHora").val();

                        if($("#campoHora").val()==$("#campoHoraTF").val()){

                            var k = 0;
                            while(k<=$("#campoMinuto").val()){
                                $("#campoMinutoTF").find("option[value='"+k+"']").prop("disabled",true);
                                k=k+1;
                            }
                            document.getElementById("campoMinutoTF").value = Number($('#campoMinuto').val()) + 1; 
                        }
                    } else {
                        var j=0;
                        while(j<59){
                            $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                            j=j+1
                        }
                    }


                    //Habilitar todas las opciones del minutero final
                    /* var j=0;
                    while(j<59){
                        $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    } */
            }); 

            //Para los minutos
            $("#campoMinuto").change(function() {

                var j=0;
                    while(j<59){
                        $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
                
                if($("#campoHora").val()==$("#campoHoraTF").val()){
                    var i = 0;
                    while(i<=$("#campoMinuto").val()){
                        $("#campoMinutoTF").find("option[value='"+i+"']").prop("disabled",true);
                        i=i+1;
                    }

                    document.getElementById("campoMinutoTF").value = Number($('#campoMinuto').val()) + 1;
                }

                /* document.getElementById("campoMinutoTF").value = '0'; */
            });

            $("#campoHora").change(function() {
                    var j=0;
                    while(j<59){
                        $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }
            });  

            $("#campoHoraTF").change(function() {
                    var j=0;
                    while(j<59){
                        $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    }

                    /* var j=0;
                    while(j<59){
                        $("#campoMinutoTF").find("option[value='"+j+"']").prop("disabled",false);
                        j=j+1
                    } */
                
                if($("#campoHora").val()==$("#campoHoraTF").val()){
                    var i = 0;
                    while(i<=$("#campoMinuto").val()){
                        $("#campoMinutoTF").find("option[value='"+i+"']").prop("disabled",true);
                        i=i+1;
                    }
                }
            }); 
            
        </script>
                    <!-- <input id="date_timepicker_end" name="end" autocomplete="off"> -->

                    <script>
                        //$(function () {
                            $("#date_timepicker_start").datetimepicker({
                                format: 'Y/m/d',
                                onShow: function (ct) {
                                    this.setOptions({
                                        maxDate: jQuery('#date_timepicker_end').val() ? jQuery('#date_timepicker_end').val() : false
                                    })
                                },
                                timepicker: false
                            });
                            $("#date_timepicker_end").datetimepicker({
                                format: 'Y/m/d',
                                onShow: function (ct) {
                                    this.setOptions({
                                        minDate: jQuery('#date_timepicker_start').val() ? jQuery('#date_timepicker_start').val() : false
                                    })
                                },
                                timepicker: false
                            });
                        //});
                    </script>

                    <!-- <h6 class="h6-carro">Carro:</h6> -->
                    <select name="vehiculo" id="carro">
                        <option value="1">Vehículo 1</option>
                        <option value="2">Vehículo 2</option>
                    </select>
                    <button type="submit" class="historicos" onclick="historics()">Historicos</button>
                    
                </form>

                <div class="tiemporeal">
                    <div class="ubication">
                        <h3>Coordenadas:</h3>
                        <div class="form-container">
                            <form action="/coordenadas/">
                                <label for="Length">Longitud:</label>
                                <div id="caja-longitude"></div>
                                <!-- <br> -->
                                <label for="Latitude">Latitud:</label>
                                <div id="caja-latitude"></div>
                                <!-- <br> -->
                                <label for="Stamptime">Stamptime:</label>
                                <div id="caja-stamptime"></div>
                                <!-- <br> -->
                                <!-- <button>Enviar</button> -->
                            </form>
                        </div>
                    </div>
                    <button type="submit" onclick="tiempoReal()">Tiempo real</button>
                </div>

            </div>

            
        </section>
        <div id="mymap" class="mapa" style="height: 595px;"></div>
        <div id="mymapTR" class="mapaTR" style="height: 595px;"></div>
        <!-- <footer class="footer">
            <p>2020 - Proyecto realizado para la Universidad del norte</p>
        </footer> -->

        <!--Scripts-->
        <script src="../js/jquery-3.5.1.min.js"></script>
        <!-- <script src="../js/bootstrap.min.js"></script> -->
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
       
        
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
        <script src='../js/front-end.js'></script>
        
        
    </div>
</body>
</html>